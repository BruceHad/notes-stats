if(!file.exists("./data")){dir.create("./data")}
fileUrl <- "https://data.baltimorecity.gov/api/views/dz54-2aru/rows.csv?accessType=DOWNLOAD"
download.file(fileUrl, destfile="./data/cameras.csv", method="curl")
cData <- read.csv("./data/cameras.csv")
names(cData)
head(cData)
tolower(names(cData))
toupper(names(cData))
splitNames <- strsplit(names(cData), "\\.")
splitNames
splitNames[6]
splitNames[6]
splitNames[[6]]
splitNames[6]
splitNames[[6]][1]
firstElement <- function(x){x[1]}
sapply(splitName, firstElement)
sapply(splitNames, firstElement)
fileUrl1 <- "https://dl.dropboxusercontent.com/u/7710864/data/reviews-apr29.csv"
fileUrl2 <- "https://dl.dropboxusercontent.com/u/7710864/data/solutions-apr29.csv"
download.file(fileUrl1, destfile="./data/reviews.csv")
download.file(fileUrl2, destfile="./data/solutions.csv")
reviews <- read.csv("./data/reviews.csv"); solutions <- read.csv("./data/solutions.csv")
download.file(fileUrl1, destfile="./data/reviews.csv", method="curl")
download.file(fileUrl2, destfile="./data/solutions.csv", method="curl")
reviews <- read.csv("./data/reviews.csv"); solutions <- read.csv("./data/solutions.csv")
head(reviews)
head(solutions)
names(reviews)
sub("_","",names(reviews))
grep("Alameda", cData$intersection)
grepl("Alameda", cData$intersection)
head(grepl("Alameda", cData$intersection))
cameraData2 <- cData[!grepl("Alameda", cData$intersection))]
cameraData2 <- cData[!grepl("Alameda", cData$intersection)]
cameraData2 <- cData[!grepl("Alameda", cData$intersection),]
head(cameraData2)
library(stringr)
nchar("Me and you")
substr("me and you", 1,3)
paste("me","you")
str_trim("Me   ")
<- date()
d1
d1 <- date()
d1
class(d1)
d2 <- sys.date()
d2
d2 <- sys.date()
d2 <- Sys.Date()
d2
class(d1)
class(d2)
format(d2, "%a %b %d")
x = c("1jan1960", "2feb1920")
z = as.Date(x, "%d%b%Y")
z
z[1] - z[2]
ymd("20140108")
library(lubridate)
ymd("20140108")
library(lubridate)
ymd("20140108")
if(!file.exists("./data")){dir.create("./data")}
fileUrl <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv"
dest <- "./data/communities.csv"
download.file(fileUrl, destfile=dest, method="curl")
myData <- read.csv(dest)
names(myData)
?strsplit
names(strsplit(myData, "wgtp")
f
strsplit(names(myData), "wgtp")
newNames[[27]]
newNames <- strsplit(names(myData), "wgtp")
newNames[[27]]
newNames[[123]]
if(!file.exists("./data")){dir.create("./data")}
fileUrl <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv"
dest <- "./data/gdp.csv"
download.file(fileUrl, destfile=dest, method="curl")
myData <- read.csv(dest)
names(myData)
head(myData)
head(myData[,1:2])
?read.csv
myData <- read.csv(dest, skip=5)
head(myData)
myData <- read.csv(dest, skip=5, header=FALSE)
head(myData)
myData <- read.csv(dest, skip=5, header=FALSE, colClass=c(NA, NA, 'NULL', NA, NA))
head(myData)
myData <- read.csv(dest, skip=5, header=FALSE, colClass=c(NA, NA, 'NULL', NA, NA, NA, 'NULL', 'NULL', 'NULL'))
head(myData)
skip=5,
header=FALSE,
colClass=c(NA, NA, 'NULL', NA, NA, NA, 'NULL', 'NULL', 'NULL'),
col.names = c('country_code',
myData <- read.csv(dest,
skip=5,
header=FALSE,
colClass=c(NA, NA, 'NULL', NA, NA, NA, 'NULL', 'NULL', 'NULL'),
col.names = c('country_code','ranking','economy','gdp'))
myData <- read.csv(dest,
skip=5,
header=FALSE,
colClass=c(NA, NA, 'NULL', NA, NA, NA, 'NULL', 'NULL', 'NULL'),
col.names = c('country_code','ranking','economy','gdp')
);
myData <- read.csv(dest,
skip=5,
header=FALSE,
colClass=c(NA, NA, 'NULL', NA, NA, NA, 'NULL', 'NULL', 'NULL'),
);
col.names = c("country_code","ranking","economy","gdp"),
col.names = c("countrycode","ranking","economy","gdp"),
);
myData <- read.csv(dest,
skip=5,
header=FALSE,
colClass=c(NA, NA, 'NULL', NA, NA, NA, 'NULL', 'NULL', 'NULL'),
col.names = c("countrycode","ranking","economy","gdp"),
);
myData <- read.csv(dest,
skip=5,
header=FALSE,
colClass=c(NA, NA, 'NULL', NA, NA, NA, 'NULL', 'NULL', 'NULL'),
col.names = c("countrycode","ranking","economy","gdp", "dUNNO"),
);
myData <- read.csv(dest,
skip=5,
header=FALSE,
colClass=c(NA, NA, 'NULL', NA, NA, NA, 'NULL', 'NULL', 'NULL'),
col.names = c("countrycode","ranking",'NULL',"economy","gdp", "dUNNO",'NULL','NULL','NULL'),
);
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
names(myData) <- c("countrycode","ranking","economy","gdp", "unknown")
head(myData)
class(myData$gdp)
myData <- read.csv(dest,
stringsAsFactors = FALSE,
skip=5,
header=FALSE,
colClass=c(NA, NA, 'NULL', NA, NA, NA, 'NULL', 'NULL', 'NULL', 'NULL')
);
names(myData) <- c("countrycode","ranking","economy","gdp", "unknown")
head(myData)
class(myData$gdp)
sub(",","",myData$gdp)
head(myData)
myData$gdp <- sub(",","",myData$gdp)
head(myData)
source('~/.active-rstudio-document', echo=TRUE)
head(myData)
myData <- read.csv(dest,
stringsAsFactors = FALSE,
skip=5,
header=FALSE,
colClass=c(NA, NA, 'NULL', NA, NA, NA, 'NULL', 'NULL', 'NULL', 'NULL')
);
names(myData) <- c("countrycode","ranking","economy","gdp", "unknown")
myData$gdp <- gsub(",","",myData$gdp)
head(myData)
class(myData$gdp)
?avg
??avg
?average
?mean
mean(myData$gdp)
mean(as.numeric(myData$gdp))
myData <- read.csv(dest,
stringsAsFactors = FALSE,
skip=5,
header=FALSE,
nrows=191,
colClass=c(NA, NA, 'NULL', NA, NA, NA, 'NULL', 'NULL', 'NULL', 'NULL')
);
names(myData) <- c("countrycode","ranking","economy","gdp", "unknown")
myData$gdp <- gsub(",","",myData$gdp)
head(myData)
class(myData$gdp)
mean(as.numeric(myData$gdp))
tail(myData)
myData <- read.csv(dest,
stringsAsFactors = FALSE,
skip=5,
header=FALSE,
nrows=190,
colClass=c(NA, NA, 'NULL', NA, NA, NA, 'NULL', 'NULL', 'NULL', 'NULL')
);
names(myData) <- c("countrycode","ranking","economy","gdp", "unknown")
myData$gdp <- gsub(",","",myData$gdp)
head(myData)
tail(myData)
class(myData$gdp)
mean(as.numeric(myData$gdp))
myData <- read.csv(dest,
stringsAsFactors = FALSE,
skip=5,
header=FALSE,
nrows=190,
colClass=c(NA, NA, 'NULL', NA, NA, NA, 'NULL', 'NULL', 'NULL', 'NULL')
);
names(myData) <- c("countrycode","ranking","countryNames","gdp", "unknown")
myData$gdp <- gsub(",","",myData$gdp)
head(myData)
tail(myData)
class(myData$gdp)
mean(as.numeric(myData$gdp))
countryNames <- myData$countryNames
grep("*United",countryNames), 5
grep("*United",countryNames)
myData[99,]
Sys.getlocale()
myData <- read.csv(dest,
stringsAsFactors = FALSE,
skip=5,
header=FALSE,
nrows=190,
fileEncoding = "iso-8859-1"
colClass=c(NA, NA, 'NULL', NA, NA, NA, 'NULL', 'NULL', 'NULL', 'NULL')
);
names(myData) <- c("countrycode","ranking","countryNames","gdp", "unknown")
myData$gdp <- gsub(",","",myData$gdp)
head(myData)
tail(myData)
class(myData$gdp)
mean(as.numeric(myData$gdp))
countryNames <- myData$countryNames
grep("*United",countryNames)
myData[99,]
myData <- read.csv(dest,
stringsAsFactors = FALSE,
skip=5,
header=FALSE,
nrows=190,
fileEncoding = "iso-8859-1"
colClass=c(NA, NA, 'NULL', NA, NA, NA, 'NULL', 'NULL', 'NULL', 'NULL')
);
source('~/.active-rstudio-document', echo=TRUE)
myData <- read.csv(dest,
stringsAsFactors = FALSE,
skip=5,
header=FALSE,
nrows=190,
fileEncoding = "iso-8859-1",
colClass=c(NA, NA, 'NULL', NA, NA, NA, 'NULL', 'NULL', 'NULL', 'NULL')
);
myData[99,]
grep("*United",countryNames)
grep("^United",countryNames)
gdp <- myData
fileUrl <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FEDSTATS_Country.csv"
dest <- "./data/gdp.csv"
download.file(fileUrl, destfile=dest, method="curl")
edu <- read.csv(dest,stringsAsFactors = FALSE)
head(gdp)
head(edu)
names(myData) <- c("countrycode","ranking","countryNames","gdp", "unknown")
gdp <- myData
head(gdp)
head(edu)
names(myData) <- c("CountryCode","ranking","countryNames","gdp", "unknown")
gdp <- myData
myData <- read.csv(dest,
stringsAsFactors = FALSE,
skip=5,
header=FALSE,
nrows=190,
fileEncoding = "iso-8859-1",
colClass=c(NA, NA, 'NULL', NA, NA, NA, 'NULL', 'NULL', 'NULL', 'NULL')
);
names(myData) <- c("CountryCode","ranking","countryNames","gdp", "unknown")
myData$gdp <- gsub(",","",myData$gdp)
head(myData)
tail(myData)
class(myData$gdp)
mean(as.numeric(myData$gdp))
countryNames <- myData$countryNames
grep("^United",countryNames)
gdp <- myData
if(!file.exists("./data")){dir.create("./data")}
fileUrl <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv"
dest <- "./data/gdp.csv"
download.file(fileUrl, destfile=dest, method="curl")
myData <- read.csv(dest,
stringsAsFactors = FALSE,
skip=5,
header=FALSE,
nrows=190,
fileEncoding = "iso-8859-1",
colClass=c(NA, NA, 'NULL', NA, NA, NA, 'NULL', 'NULL', 'NULL', 'NULL')
);
names(myData) <- c("CountryCode","ranking","countryNames","gdp", "unknown")
myData$gdp <- gsub(",","",myData$gdp)
head(myData)
tail(myData)
class(myData$gdp)
mean(as.numeric(myData$gdp))
countryNames <- myData$countryNames
grep("^United",countryNames)
gdp <- myData
fileUrl <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FEDSTATS_Country.csv"
dest <- "./data/gdp.csv"
download.file(fileUrl, destfile=dest, method="curl")
edu <- read.csv(dest,stringsAsFactors = FALSE)
head(gdp)
head(edu)
merged <- merge(gdp, edu)
head(merged)
names(merged)
head(merged$Special.Notes)
?grep
grep("Fiscal year end", merged$Special.Notes)
grep("Fiscal year end: June", merged$Special.Notes)
june <- grep("Fiscal year end: June", merged$Special.Notes)
merged(june,)
merged[june,]
merged$Special.Notes[june,]
merged$Special.Notes[june]
library(quantmod)
amzn = getSymbols("AMZN",auto.assign=FALSE)
sampleTimes = index(amzn)
install.packages("quantmod")
source('~/.active-rstudio-document', echo=TRUE)
sampleTimes = index(amzn)
amzn = getSymbols("AMZN",auto.assign=FALSE)
sampleTimes = index(amzn)
head(amzn)
names(amzn)
class(amzn)
amzn[1,]
amzn[,1]
amzn[1:3,1]
?substr
amzn$dates <- substr(amzn$AMZN.Open,0,10)
amzn$dates
amzn$dates <- substr(amzn$AMZN.Open,0,10)
head(amzn$dates)
head(amzn$dates[,1])
amzn$dates <- substr(amzn$AMZN.Open,0,10)
class(amzn$AMZN.Open)
class(amzn$AMZN.Open[1,])
class(amzn$AMZN.Open[1,1])
View(amzn)
?row.names
row.names(amzn)
head(amzn)
row.names(amzn)
names(amzn)
rownames(amzn)
?sampleTimes
?index
?getSymbols
View(amzn)
library(quantmod)
amzn = getSymbols("AMZN",auto.assign=FALSE)
sampleTimes = index(amzn)
amzn$dates <- substr(amzn$AMZN.Open,0,10)
head(amzn$dates[,1])
class(sampleTimes)
sampleTimes
sampleTimes[1]
class(sampleTimes[1])
?year
year(sampleTimes[1])
sampleTime(year(sampleTimes)==2007)
sampleTimes(year(sampleTimes)==2007)
sampleTimes = index(amzn)
sampleTimes[year(sampleTimes)==2007]
sampleTimes[year(sampleTimes)==2012]
amzn$sampleTimes = index(amzn)
head(amzn)
amzn = getSymbols("AMZN",auto.assign=FALSE)
head(amzn)
sampleTimes = index(amzn)
head(sampleTimes)
amzn$sampleTimes <- sampleTimes
head(sampleTimes)
head(amzn$sampleTimes)
head(amzn)
View(amzn)
head(sampleTimes)
head(sampleTimes)
twentytwelve <- sampleTimes[year(sampleTimes)==2012]
?day
day(sampleTimes)
wday(sampleTimes)
mondaystwentytwelve = twentytwelve[wday(twentytwelve)==2]
?length
length(twentytwelve)
length(mondaystwentytwelve)
barplot
?barplot
## Read data.
scc <- readRDS("data/Source_Classification_Code.rds")
nei <- readRDS("data/summarySCC_PM25.rds")
# Aggregate to get total Emissions per year
totals <- aggregate(nei$Emissions, list(Year=nei$year), sum)
names(totals)[2] <- "Emissions"
totals$Emissions <- totals$Emissions/1000
# Create Plot File
png (file = "plot1.png")
plot(totals, type="l", ylab="PM2.5 Emmissions(thousands of tons)")
dev.off()
setwd("~/Projects/datasciencecoursera/4dataexploration/Project 2")
## Read data.
scc <- readRDS("data/Source_Classification_Code.rds")
nei <- readRDS("data/summarySCC_PM25.rds")
# Aggregate to get total Emissions per year
totals <- aggregate(nei$Emissions, list(Year=nei$year), sum)
names(totals)[2] <- "Emissions"
totals$Emissions <- totals$Emissions/1000
# Create Plot File
png (file = "plot1.png")
plot(totals, type="l", ylab="PM2.5 Emmissions(thousands of tons)")
dev.off()
aggTotals <- aggregate(Emissions ~ year,NEI, sum)
aggTotals <- aggregate(Emissions ~ year,nei, sum)
totals
aggTotals
barplot(
(aggTotals$Emissions)/10^6,
names.arg=aggTotals$year,
xlab="Year",
ylab="PM2.5 Emissions (10^6 Tons)",
main="Total PM2.5 Emissions From All US Sources"
)
plot(totals, type="l", ylab="PM2.5 Emmissions(thousands of tons)")
## Read data.
scc <- readRDS("data/Source_Classification_Code.rds")
nei <- readRDS("data/summarySCC_PM25.rds")
# Subset data for Baltimore city (fips = 24510)
nei <- nei[nei$fips == "24510",]
# Aggregate to get total Emissions per year
totals <- aggregate(nei$Emissions, list(Year=nei$year), sum)
names(totals)[2] <- "Emissions"
# Create Plot File
png (file = "plot2.png")
plot(totals, type="l", ylab="PM2.5 Emmissions Baltimore City (tons)")
dev.off()
aggTotalsBaltimore <- aggregate(Emissions ~ year, baltimoreNEI,sum)
aggTotalsBaltimore <- aggregate(Emissions ~ year, nei,sum)
aggTotalsBaltimore
aggTotals
nei
totals
aggTotalsBaltimore
barplot( aggTotalsBaltimore$Emissions, names.arg=aggTotalsBaltimore$year, xlab="Year", ylab="PM2.5 Emissions (Tons)", main="Total PM2.5 Emissions From All Baltimore City Sources" )
scc <- readRDS("data/Source_Classification_Code.rds")
nei <- readRDS("data/summarySCC_PM25.rds")
NEI <- nei
SCC <- scc
byyear <- split(NEI, NEI$year)
years <- with(NEI, unique(year))
year1total <- with(byyear$'1999', sum(Emissions))
year2total <- with(byyear$'2002', sum(Emissions))
year3total <- with(byyear$'2005', sum(Emissions))
year4total <- with(byyear$'2008', sum(Emissions))
totals <- c(year1total, year2total, year3total, year4total)
plot(years, totals, type = 'l', xlab = "Years", ylab = "Total Emissions (tons)",
main = "United States Total PM2.5 Emissions over Time")
totalEmission <- tapply(NEI$Emissions, INDEX=NEI$year, FUN=sum)
totalEmission
aggTotals
?help
options(help_type = "text")
?help
?ggplot
?aggregate
options(help_type = "html")
?aggregate
setwd("~/Projects/datasciencecoursera/4dataexploration")
load("samsungData.rda")
names(samsungData)
source('~/Projects/datasciencecoursera/4dataexploration/samsung.R')
load("samsungData.rda")
par(mfrow = c(1,2), mar = c(5,4,1,1))
samsungData <- transform(samsungData, activity = factor(activity))
sub1 <- subset(samsungData, subject = 1)
plot(sub1[,1], col = sub1$activity, ylab = names(sub1)[1])
plot(sub1[,2], col = sub1$activity, ylab = names(sub1)[2])
legend("bottomright", legend = unique(sub1$activity), col = unique(sub1$activity), pch = 1)
head(sub1)
head(sub1[,1])
sub1[1:3,1]
names(sub1)
par(mfrow = c(1,2))
plot(sub1[,10], col = sub1$activity, ylab = names(sub1)[10])
plot(sub1[,11], col = sub1$activity, ylab = names(sub1)[11])
plot(sub1[,10], pch= 19, col = sub1$activity, ylab = names(sub1)[10])
plot(sub1[,11], pch = 19, col = sub1$activity, ylab = names(sub1)[11])
sub1 <- subset(samsungData, subject = 1)
par(mfrow = c(1,2))
plot(sub1[,10], pch= 19, col = sub1$activity, ylab = names(sub1)[10])
plot(sub1[,11], pch = 19, col = sub1$activity, ylab = names(sub1)[11])
